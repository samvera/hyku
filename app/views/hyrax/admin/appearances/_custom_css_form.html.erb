<%= simple_form_for @form, url: admin_appearance_path, html: { id: 'css-form' } do |f| %>
  <%= hidden_field_tag :return_tab, 'css', id: 'return_tab_field_css' %>
  <div class="card-body">
    <%= f.input :custom_css_block, required: false, as: :text, label: 'Add Custom CSS Below' %>
    <script>
      var custom_css_block = document.getElementById('admin_appearance_custom_css_block')
      var editor = CodeMirror.fromTextArea(custom_css_block, {
        mode: 'text/css',
        autofocus: true,
        lineNumbers: true,
        theme: 'base16-light',
        autoRefresh: true
      });

      // refresh the editor when the tab is shown
      jQuery('[href="#css"]').on('shown.bs.tab', function() {
        editor.refresh();
      });
    </script>
  </div>
  <div class="card-footer">
    <%= f.submit class: 'btn btn-primary float-right', data: { confirm: t('hyrax.admin.appearances.show.forms.custom_css.confirm') } %>
  </div>
<% end %>
